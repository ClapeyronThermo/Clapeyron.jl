<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Definitions · OpenSAFT.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://juliadocs.github.io/OpenSAFT.jl/dev/user_guide/definitions/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/logo.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="OpenSAFT.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">OpenSAFT.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../theory/background/">Background</a></li><li><span class="tocitem">User guide</span><ul><li class="is-active"><a class="tocitem" href>Definitions</a><ul class="internal"><li><a class="tocitem" href="#.-Importing-parameters"><span>1. Importing parameters</span></a></li><li><a class="tocitem" href="#.-Writing-the-EoS"><span>2. Writing the EoS</span></a></li><li><a class="tocitem" href="#.-Generating-physical-properties-out-of-the-EoS"><span>3. Generating physical properties out of the EoS</span></a></li><li class="toplevel"><a class="tocitem" href="#Solvers"><span>Solvers</span></a></li></ul></li><li><a class="tocitem" href="../basic_usage/">Basic Usage</a></li><li><a class="tocitem" href="../custom_dtb/">Custom Databases</a></li><li><a class="tocitem" href="../custom_eos/">Custom Equations of State</a></li></ul></li><li><a class="tocitem" href="../../to-do_list/">To-do list</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User guide</a></li><li class="is-active"><a href>Definitions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Definitions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ypaul21/OpenSAFT.jl/blob/master/docs/src/user_guide/definitions.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Developing-OpenSAFT"><a class="docs-heading-anchor" href="#Developing-OpenSAFT">Developing OpenSAFT</a><a id="Developing-OpenSAFT-1"></a><a class="docs-heading-anchor-permalink" href="#Developing-OpenSAFT" title="Permalink"></a></h1><p>There are three components to the implementation of an equation of state (EoS):</p><ol><li>importing parameters, and getting them to a form where they can easily be accessed</li><li>writing the actual EoS, and</li><li>generating physical properties out of the EoS.</li></ol><h2 id=".-Importing-parameters"><a class="docs-heading-anchor" href="#.-Importing-parameters">1. Importing parameters</a><a id=".-Importing-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#.-Importing-parameters" title="Permalink"></a></h2><p>OpenSAFT is designed such that raw data files can systematically extracted so that the developer will be able to focus on writing the EoS. The database extraction is handled by the functions in <code>utils/extractdatabase.jl</code>.  A full documentation of how this is set up will be written in the near future, but the details of the implementation are not necessary for the EoS developer.</p><p>Currently, the raw data files are formatted as CSVs with a semicolon delimiter (techinically DSVs), with the headers on the third row. We currently support three parameter data files for each EoS:</p><ol><li>like parameters, for parameters that involve a single component</li><li>unlike parameters, for parameters that involve two components, and</li><li>assoc parameters, for parameters involved in the association term.</li></ol><p>We may support more data files in the future, such as pure heat capacity polynomial coefficients for a more sophisticated ideal term.</p><p>Column data in the relevant rows are extracted using the function</p><pre><code class="language-julia">retrieve_params(components, selected method;
    customdatabase_like = &quot;None&quot;, variant_like = &quot;None&quot;, redirect_like = &quot;None&quot;,
    customdatabase_unlike = &quot;None&quot;, variant_unlike = &quot;None&quot;, redirect_unlike = &quot;None&quot;,
    customdatabase_assoc = &quot;None&quot;, variant_assoc = &quot;None&quot;, redirect_assoc = &quot;None&quot;)</code></pre><p>By default, it looks for database files for the relevant method in the <code>database</code> directory of the project root directory, but you may choose to redirect the search to a different directory using optional parameters. This function returns an Array of dictionaries, one for each database file.</p><p>Once the column data are extracted, parameter data can be filtered using</p><pre><code class="language-julia">function filterparams(raw_params, like_params;
    unlike_params = [], assoc_params = [])</code></pre><p>The <code>like_params</code>, <code>unlike_params</code>, and <code>assoc_params</code> is a list of column headers to extract to their individidual dictionaries.</p><p>The keys for the main species are Sets, because they have the property where <code>Set([i,j]) == Set([j,i])</code>, and <code>Set([i,i]) == Set([i])</code>, which is perfect for the representation of symmetric interactions that we observe in thermodynamics, and it simplifies loops in the equations.</p><p>For interaction parameters between species <code>i</code> and <code>j</code>, they are accessed by the key <code>Set([i,j])</code>, while interaction parameters between the same species <code>i</code> are accessed by the key <code>Set([i])</code>.</p><p>For the association parameters, the keys are <code>Set([(i,a),(j,b)])</code>, where <code>i</code> and <code>j</code> are the main species, and <code>a</code> and <code>b</code> are the asociation species on species <code>i</code> and <code>j</code> respectively.</p><h2 id=".-Writing-the-EoS"><a class="docs-heading-anchor" href="#.-Writing-the-EoS">2. Writing the EoS</a><a id=".-Writing-the-EoS-1"></a><a class="docs-heading-anchor-permalink" href="#.-Writing-the-EoS" title="Permalink"></a></h2><p>OpenSAFT makes use of Julia&#39;s multiple dispatch to reduce function duplication for variant SAFT models of the same family. The Structs are defined in <code>models/model_structs.jl</code>, where the hierachy is as follows:</p><pre><code class="language-julia">{SAFT_model} &lt;: {SAFT_family} &lt;: SAFT &lt;: EoS</code></pre><p>In the future, if we ever wish to provide support for non-SAFT EoS (cubics, activity coefficient based, etc), we may add a new abstract type under EoS.</p><p>Parameters that are used by the model are defined in <code>models/param_structs.jl</code>.</p><p>The user will call the <code>system(components, method; kwargs)</code> function in <code>models/system.jl</code> to define their system. This function extracts the raw data using function <code>retrieveparams</code>, and these extracted parameters are interpreted in the function <code>create_{model}Params</code> in the file <code>models/import_params.jl</code>.</p><p>The EoS for SAFT is expressed in terms of the Helmholtz free energy, and this is defined in <code>models/eos/eos.jl</code>. This calls the relevant functions to generate, for example <code>a_ideal</code> and <code>a_res</code>. For SAFT, these functions will reside in the <code>models/eos/SAFT</code> directory.</p><h2 id=".-Generating-physical-properties-out-of-the-EoS"><a class="docs-heading-anchor" href="#.-Generating-physical-properties-out-of-the-EoS">3. Generating physical properties out of the EoS</a><a id=".-Generating-physical-properties-out-of-the-EoS-1"></a><a class="docs-heading-anchor-permalink" href="#.-Generating-physical-properties-out-of-the-EoS" title="Permalink"></a></h2><p>All methods are stored in the <code>methods</code> directory. Currently, we have support for getting pure properties for SAFT. Additional methods to support mixtures, etc, will be written here. We may make use of Julia&#39;s multiple dispatch to create model-specific methods if that is necessary.</p><h1 id="Solvers"><a class="docs-heading-anchor" href="#Solvers">Solvers</a><a id="Solvers-1"></a><a class="docs-heading-anchor-permalink" href="#Solvers" title="Permalink"></a></h1><p>There may be a few solvers that are typically used in thermodynamics but are not currently readily available in the Julia community, so they will be set up ande put together here in the <code>solvers</code> directory in a module called Solvers.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../theory/background/">« Background</a><a class="docs-footer-nextpage" href="../basic_usage/">Basic Usage »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 18 June 2021 10:27">Friday 18 June 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
